cmake_minimum_required(VERSION 3.16.0)

project(LearnIMGui VERSION 1.0.0 LANGUAGES CXX)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

set(CMAKE_AUTOMOC ON)
set(CMAKE_AUTORCC ON)
set(CMAKE_AUTOUIC ON)

set(IMGUI_DIR ${PROJECT_SOURCE_DIR}/imgui-1.79)

add_library(imgui
        ${IMGUI_DIR}/imgui.cpp
        ${IMGUI_DIR}/imgui_draw.cpp
        ${IMGUI_DIR}/imgui_widgets.cpp
        ${IMGUI_DIR}/imgui_demo.cpp>
        )
find_package(Qt6 COMPONENTS Widgets REQUIRED)
add_subdirectory(packages)

include_directories(imgui PUBLIC "${IMGUI_DIR}")
include_directories(${IMGUI_DIR})
include_directories(${IMGUI_DIR}/examples)

add_executable(imgui_example_null
        ${IMGUI_DIR}/examples/example_null/main.cpp
        )
add_executable(imgui_example_win32_directx9
        ${IMGUI_DIR}/examples/example_win32_directx9/main.cpp
        )
add_executable(imgui_example_win32_directx10
        ${IMGUI_DIR}/examples/example_win32_directx10/main.cpp
        )
add_executable(imgui_example_win32_directx11
        ${IMGUI_DIR}/examples/example_win32_directx11/main.cpp
        )

target_link_libraries(imgui_example_null imgui)
target_link_libraries(imgui_example_win32_directx9 imgui-win32 imgui-dx9)
target_link_libraries(imgui_example_win32_directx10 imgui-win32 imgui-dx10)
target_link_libraries(imgui_example_win32_directx11 imgui-win32 imgui-dx11)